<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blog | 邱张华</title>
  <link rel="icon" type="image/png" href="/images/q-96.png">
  <link rel="stylesheet" href="/css/site.css">
  <link rel="stylesheet" href="/css/prism-okaidia.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Roboto&display=fallback" rel="stylesheet">
</head>
<body>
<header>
  <a href="/" class="link--home">博客</a>
  <a href="/about" class="link--about">邱张华</a>
</header>
<main>
  <article>
  <h1>Use pnpm offline</h1>
  <time datetime="2022-06-25T00:00:00.000Z">2022/06/25</time>
  <!-- Excerpt Start -->
<p>三思而后行</p>
<!-- Excerpt End -->
<h2>前提条件</h2>
<p>Node.js已经安装
(TDP 已经安装)
pnpm 已经安装</p>
<h2>制作离线包</h2>
<p>Computer online</p>
<p>Make working directory</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">rm</span> -rf ~/offline<br><span class="token function">mkdir</span> ~/offline<br><br><span class="token builtin class-name">export</span> <span class="token assign-left variable">XDG_DATA_HOME</span><span class="token operator">=~</span>/offline/repo<br><span class="token builtin class-name">export</span> <span class="token assign-left variable">XDG_CACHE_HOME</span><span class="token operator">=~</span>/offline/cache<br><span class="token builtin class-name">export</span> <span class="token assign-left variable">XDG_STATE_HOME</span><span class="token operator">=~</span>/offline/state</code></pre>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># under your working space</span><br><span class="token function">mkdir</span> hello<br><span class="token builtin class-name">cd</span> hello<br><span class="token function">pnpm</span> init<br></code></pre>
<p>Add some dependency</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">pnpm</span> <span class="token function">add</span> -D esbuild<br><span class="token function">pnpm</span> <span class="token function">add</span> -D tailwindcss<br><span class="token function">pnpm</span> <span class="token function">add</span> express</code></pre>
<p>Zip it</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/offline<br><span class="token function">zip</span> -r pnp-offline.zip <span class="token builtin class-name">.</span></code></pre>
<h2>离线如何使用</h2>
<p>On Computer offline</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span>  ~/tdp<br><span class="token function">unzip</span> -o pnp-offline.zip<br><span class="token comment"># 只需运行一次</span></code></pre>
<h3>日常工作</h3>
<pre class="language-bash"><code class="language-bash"><span class="token function">mkdir</span> xxx<br><span class="token builtin class-name">cd</span> xxx<br><span class="token function">pnpm</span> init<br><span class="token function">pnpm</span> <span class="token function">add</span> -D tailwindcss --offline<br><span class="token function">pnpm</span> <span class="token function">add</span> express --offline<br><br><span class="token punctuation">..</span>.<br></code></pre>
<p>or</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">pnpm</span> i --offline</code></pre>

</article>
</main>
<footer>&copy; qiuzhanghua.github.io 2022</footer>
</body>
</html>